<!DOCTYPE html>

<html>

<head>

  <style>

    #usersTable {
     border: solid 1px black;
    }

    tr, th, td {
     border: solid 1px black;
    }

  </style>

</head>

<body>

  <h1> Acme Table Builder</h1>

  <table id="usersTable">



  </table>

  <script>

class TableBuilder {
  constructor(colArr, rowArr, selector) {
    this.colArr = colArr;
    this.rowArr = rowArr;
    this.selector = selector;
  }

  init() {
    document.querySelector(this.selector).addEventListener('click', (ev) => {
        console.log(ev.target.parentNode.children);
        

    });



    this.render();
  }

render() {
let html = "<tr>"
html += this.colArr.map((col, idx)=>{
   return `
    <th>${this.colArr[idx].title}</th>
   `
  }).join('');
  html += "</tr>";

 html += this.rowArr.map((row, idx) =>{
   return `
    <tr>
      <td>${this.rowArr[idx].name}</td>
      <td>${this.rowArr[idx].role}</td>
      <td>${this.rowArr[idx].salary}</td>
    </tr>
    `
  }).join('');


/*
  let html = '<tr>';
  for(let i=0; i<this.colArr.length; i++ ){
    html += "<th>"
    html += this.colArr[i].title
    html += "</th>"
  }
  html += "</tr>"
*/

  document.querySelector(this.selector).innerHTML = html;
  console.log(html);
  }
}


const usersTable = new TableBuilder(
      [
        {
          title: 'Name',
          key: 'name'
        },
        {
          title: 'Position',
          key: 'role'
        },
        {
          title: 'Salary',
          key: 'salary',
          type: 'number'
        }

      ],
      [
        {
          name: 'Moe',
          role: 'CEO',
          salary: 80000
        },
        {
          name: 'Larry',
          role: 'CTO',
          salary: 70000
        },
        {
          name: 'Curly',
          role: 'CPO',
          salary: 75000
        },
        {
          name: 'Shep',
          role: 'Security Officer',
          salary: 1000000
        }
      ],
      '#usersTable'//id of DOM element
    );
    usersTable.init();




  </script>

</body>


</html>
